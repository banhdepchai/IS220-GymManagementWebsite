@inject SignInManager<AppUser> SignInManager

@model RegisterViewModel
@{
    Layout = null;
}

@*<h1>@ViewData["Title"].</h1>

<div class="row">
    <div class="col-md-8">
        <section>   
            <form asp-controller="Account" asp-action="Register" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal" role="form">
                <h4>Tạo tài khoản mới trên website.</h4>
                <hr />
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="form-group">
                    <label asp-for="UserName" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="UserName" class="form-control" />
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Email" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="Email" class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Password" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="Password" class="form-control" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="ConfirmPassword" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="ConfirmPassword" class="form-control" />
                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <button type="submit" class="btn btn-primary">Đăng ký</button>
                    </div>
                </div>
            </form>          
        </section>
    </div>
    <div class="col-md-4">
        <section>
            <h4>Đăng nhập bằng tài khoản.</h4>
            <hr />
            @{
                var schemes = await SignInManager.GetExternalAuthenticationSchemesAsync();
                var loginProviders = schemes.ToList();
                if (loginProviders.Count == 0)
                {
                    <div>
                        <p>
                            Ứng dụng chưa hỗ trợ đăng nhập từ tài khoản ngoài
                        </p>
                    </div>
                }
                else
                {
                    <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal" role="form">
                        <div>
                            <p>
                                @foreach (var provider in loginProviders)
                                {
                                    <button type="submit" class="btn btn-primary" name="provider" value="@provider.Name" title="Log in using your @provider.Name account">@provider.Name</button>
                                }
                            </p>
                        </div>
                    </form>
                }
            }
        </section>
    </div>
</div>*@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Đăng ký tài khoản</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

    <!-- Css Styles -->
  <link rel="stylesheet" href="/css/bootstrap.min.css" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="/css/owl.carousel.min.css" type="text/css">
  <link rel="stylesheet" href="/css/magnific-popup.css" type="text/css">
  <link rel="stylesheet" href="/css/slicknav.min.css" type="text/css">
  <link rel="stylesheet" href="/css/main.css" type="text/css">
  <link rel="stylesheet" href="/css/base.css" type="text/css">
  <link rel="stylesheet" href="/css/reponsive.css" type="text/css">
  
  <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
  <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>

  <style>
    body {
      height: 100%;
      width: 100%;
      /* extended code */
      background-size: 100% 100%;
      /* background-repeat: no-repeat; */
      background-position: center center;
      background-image: url('/img/login/Background-gym-signin.jpg');
    } 
  </style>
</head>

<body>
  <section class="vh-100 bg-image">

    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-11 col-md-8 col-lg-6 col-xl-5 col-xxl-4">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body login-sinup">
                <h2 class="header__title-login text-uppercase text-center pb-4">Đăng ký</h2>

                  <form asp-controller="Account" asp-action="Register" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" role="form">
                      
                      <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                      <div class="form-outline mb-1">
                          <label class="form-label" asp-for="UserName">Tên đăng nhập</label>
                          <input asp-for="UserName" class="form-control"/>
                          <span asp-validation-for="UserName" class="text-danger"></span>
                      </div>

                      <div class="form-outline mb-1">
                          <label class="form-label" asp-for="Email">Email</label>
                          <input asp-for="Email" class="form-control"/>
                          <div><span asp-validation-for="Email" class="text-danger"></span></div>
                      </div>

                      <div class="form-outline mb-1">
                          <label class="form-label" asp-for="Password">Mật khẩu</label>
                          <input asp-for="Password" class="form-control"/>
                          <div><span asp-validation-for="Password" class="text-danger"></span></div>
                      </div>

                      <div class="form-outline mb-1">
                          <label class="form-label" asp-for="ConfirmPassword">Nhập lại mật khẩu</label>
                          <input asp-for="ConfirmPassword" class="form-control"/>
                          <div><span asp-validation-for="ConfirmPassword" class="text-danger"></span></div>
                      </div>

                      <div class="d-flex justify-content-center pt-4">
                          <button type="submit" class="btn btn-primary-color btn--sinup fw-bold text-white text-uppercase" asp-action="Register" asp-route-returnurl="@ViewData["ReturnUrl"]">
                              Tạo tài khoản
                          </button>
                      </div>

                      <div class="login__another fw-bold">
                          <div class="divider text-center position-relative my-4">
                              <span class="line position-absolute start-0 end-0 " style="background-color: #d4d4d4;"></span>
                              <div class="content position-relative bg-white px-3 mx-auto">
                                  <span class="fw-bold" style="color: #8e8e8e">Hoặc</span>
                              </div>
                          </div>
                      </div>
                      <button class="btn btn-with  fw-bold " style="border: 2px solid #000; width: 100%;"> 
                          <img class="login__with-gg-img" src="/img/login/Google__G__Logo.svg" alt="">
                          Đăng nhập với google
                      </button>
                      
                      @*@{
                          var schemes = await SignInManager.GetExternalAuthenticationSchemesAsync();
                          var loginProviders = schemes.ToList();
                          if (loginProviders.Count == 0)
                          {
                              <div>
                                  <p>
                                      Ứng dụng chưa hỗ trợ đăng nhập từ tài khoản ngoài
                                  </p>
                              </div>
                          }
                          else
                          {
                              <form asp-controller="Account" asp-action="ExternalLogin" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal" role="form">
                                  <div>
                                      <p>
                                          @foreach (var provider in loginProviders)
                                          {
                                              //<button type="submit" class="btn btn-primary" name="provider" value="@provider.Name" title="Log in using your @provider.Name account">@provider.Name</button>
                                              <button class="btn btn-with  fw-bold " style="border: 2px solid #000; width: 100%;" /*type="submit"*/ name="provider" value="@provider.Name" title="Log in using your @provider.Name account"> 
                                                  <img class="login__with-gg-img" src="/img/login/Google__G__Logo.svg" alt="">
                                                  Đăng nhập với google
                                              </button>
                                          }
                                      </p>
                                  </div>
                              </form>
                          }
                      }*@

                      <p class="text-center mt-4 mb-0">Bạn đã có tài khoản?
                          <a asp-action="Login" asp-controller="Account" asp-area="Identity" class="fst-italic text-body"><u>Đăng nhập</u></a></p>

                  </form>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</body>

</html>
